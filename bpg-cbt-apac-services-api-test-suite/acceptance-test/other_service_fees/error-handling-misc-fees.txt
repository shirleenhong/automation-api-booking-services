*** Settings ***
Suite Setup
Resource          ../resources/api-variables.txt
Resource          ../resources/api-utilities.txt
Resource          ../resources/api-imports.txt
Resource          resources/air-fees.txt
Resource          resources/misc-fees.txt

*** Test Cases ***
Verify That Calculated Values Are Complete For Miscellaneous Fees Singapore
    [Tags]    functional
    Generate Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,2NEXT SG|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,250.78|nett_cost,0|gst_percent,5.8|gst_absorb,true
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    200
    Verify Calculated Miscellaneous Fees Are Returned Correctly
    Verify Response Does Not Contain Calculated Fee    element=gstAmount
    Verify Response Does Not Contain Calculated Fee    element=nettCostGst
    Verify Response Does Not Contain Calculated Fee    element=merchantFee
    Generate Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,2NEXT SG|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,250.78|nett_cost,0|gst_percent,5.8|gst_absorb,false
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    200
    Verify Calculated Miscellaneous Fees Are Returned Correctly
    Verify Response Does Not Contain Calculated Fee    element=merchantFee
    Generate Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,2NEXT SG|merchant_fee_absorb,false|merchant_fee_waive,false|merchant_fee_percentage,2|selling_price,250.78|nett_cost,0|gst_percent,5.8|gst_absorb,true
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    200
    Verify Calculated Miscellaneous Fees Are Returned Correctly
    Verify Response Does Not Contain Calculated Fee    element=gstAmount
    Verify Response Does Not Contain Calculated Fee    element=nettCostGst

Verify That Calculated Values Are Complete For Miscellaneous Fees Hong Kong
    [Tags]    functional
    Generate Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,true    country=hk
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    200
    Verify Calculated Miscellaneous Fees Are Returned Correctly
    Verify Response Does Not Contain Calculated Fee    element=gstAmount
    Verify Response Does Not Contain Calculated Fee    element=nettCostGst
    Verify Response Does Not Contain Calculated Fee    element=merchantFee
    Generate Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,false    country=hk
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    200
    Verify Calculated Miscellaneous Fees Are Returned Correctly
    Verify Response Does Not Contain Calculated Fee    element=merchantFee
    Generate Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,false|merchant_fee_waive,false|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,true    country=hk
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    200
    Verify Calculated Miscellaneous Fees Are Returned Correctly
    Verify Response Does Not Contain Calculated Fee    element=gstAmount
    Verify Response Does Not Contain Calculated Fee    element=nettCostGst

Verify That Error Is Encountered When Invalid Token Is Used
    [Tags]    functional
    Generate Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,false|merchant_fee_waive,false|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,false    country=hk
    Send Other Service Fees Post Request    token=12345.12345.12345.
    Verify Response Status Code Is Correct    401
    Verify Calculated Miscellaneous Fees Are Not Returned
    Generate Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,false|merchant_fee_waive,false|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,false    country=sg
    Send Other Service Fees Post Request    token=aaa.bbb.ccc
    Verify Response Status Code Is Correct    401
    Verify Calculated Miscellaneous Fees Are Not Returned
    Generate Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,false|merchant_fee_waive,false|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,false    country=sg
    Send Other Service Fees Post Request    token=!@#$%^&.!@#$%^&*.!@#$%^
    Verify Response Status Code Is Correct    401
    Verify Calculated Miscellaneous Fees Are Not Returned

Verify That Error Is Encountered When Null Token Is Used
    [Tags]    functional
    Generate Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,false|merchant_fee_waive,false|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,false    country=hk
    Send Other Service Fees Post Request    token=null
    Verify Response Status Code Is Correct    401
    Verify Calculated Miscellaneous Fees Are Not Returned

Verify That Error Is Encountered When Empty Token Is Used
    [Tags]    functional
    Generate Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,false|merchant_fee_waive,false|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,false    country=sg
    Send Other Service Fees Post Request    token=${EMPTY}
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned

Verify That Error Is Encountered When No Token Is Used
    [Tags]    functional
    Generate Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,false|merchant_fee_waive,false|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,false    country=hk
    Send Other Service Fees Post Request    token=None
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned

Verify That Error Is Encountered When Invalid Client Type Value Is Used
    [Tags]    functional
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,${EMPTY}|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,true    country=hk
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,null|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,true    country=hk
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned

Verify That Error Is Encountered When Invalid Country Code Value Is Used
    [Tags]    functional
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,true    country=!@#$%^&*()
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,true    country=null
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,true    country=None
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned

Verify That Error Is Encountered When Invalid FOP Type Value Is Used
    [Tags]    functional
    Create Test Variables For Miscellaneous Fees    cc,${EMPTY}|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,true    country=sg
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned
    Create Test Variables For Miscellaneous Fees    cc,null|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,true    country=sg
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned

Verify That Error Is Encountered When Invalid GST Absorb Value Is Used
    [Tags]    functional
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,xxxx    country=hk
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,${EMPTY}    country=hk
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,None    country=sg
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned

Verify That Error Is Encountered When Invalid GST Percentage Value Is Used
    [Tags]    functional
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,xxxx|gst_absorb,true    country=sg
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,${EMPTY}|gst_absorb,true    country=hk
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,None|gst_absorb,true    country=sg
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned

Verify That Error Is Encountered When Invalid Merchant Fee Absorb Value Is Used
    [Tags]    functional
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,xxx|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,true    country=hk
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,${EMPTY}|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,true    country=hk
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned

Verify That Error Is Encountered When Invalid Merchant Fee Waive Value Is Used
    [Tags]    functional
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,xxxx|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,true    country=sg
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,${EMPTY}|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,true    country=sg
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,None|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,true    country=hk
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned

Verify That Error Is Encountered When Invalid Nett Cost Value Is Used
    [Tags]    functional
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,${EMPTY}|gst_percent,7|gst_absorb,true    country=hk
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,None|gst_percent,7|gst_absorb,true    country=sg
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,xxxx|gst_percent,7|gst_absorb,true    country=sg
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned

Verify That Error Is Encountered When Invalid Profile Name Value Is Used
    [Tags]    functional
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,${EMPTY}|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,true    country=hk
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,null|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,100|nett_cost,0|gst_percent,7|gst_absorb,true    country=hk
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned

Verify That Error Is Encountered When Invalid Selling Price Value Is Used
    [Tags]    functional
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,xxxx|nett_cost,0|gst_percent,7|gst_absorb,true    country=sg
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,${EMPTY}|nett_cost,0|gst_percent,7|gst_absorb,true    country=hk
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned
    Create Test Variables For Miscellaneous Fees    cc,CX|client_type,TF|pro_name,ACCEHK|merchant_fee_absorb,true|merchant_fee_waive,true|merchant_fee_percentage,2|selling_price,None|nett_cost,0|gst_percent,7|gst_absorb,true    country=sg
    Send Other Service Fees Post Request
    Verify Response Status Code Is Correct    400
    Verify Calculated Miscellaneous Fees Are Not Returned
