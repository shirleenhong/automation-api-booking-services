*** Settings ***
Resource          ../resources/api-variables.txt
Resource          ../resources/api-utilities.txt
Resource          ../resources/api-imports.txt
Resource    resources/air-transaction.txt

Suite Setup    Generate Suite Variables For Air Transaction    cc_vendor_data_list=TP,Airplus|DC,Diners|CA,Mastercard|AX,Amex    rbd_data_list=G,ECONOMY|Q,ECONOMY|C,EXECUTIVE|I,ECONOMY|L,ECONOMY    airline_data_list=AB,Air Berlin|TST,Test Airline|SG,SpiceJet|4L,Georgian International Airlines   

*** Test Cases ***
Verify That Air Transaction Returns Correct Passthrough Type For Full Passthrough In Client Level
    [Tags]    functional
    Create Test Variable For Air Transaction    data_list=CX,AX,NRCC,3021300025,Airline;Q
    Send Air Transaction Get Request
    Verify Response Status Code Is Correct    200
    Verify Air Transaction Passthrough Type Is Retrieved Correctly
    
Verify That Air Transaction Returns Correct Passthrough Type For Non-Passthrough In Client Level
    [Tags]    functional
    Create Test Variable For Air Transaction    data_list=AF,CA,NRCC,3104300001,CWT;G
    Send Air Transaction Get Request
    Verify Response Status Code Is Correct    200
    Verify Air Transaction Passthrough Type Is Retrieved Correctly
    
Verify That Air Transaction Returns Correct Passthrough Type For Selective Passthrough In Client Level
    [Tags]    functional
    Create Test Variable For Air Transaction    data_list=9W,AX,UATP,3098300014,Airline;Q
    Send Air Transaction Get Request
    Verify Response Status Code Is Correct    200
    Verify Air Transaction Passthrough Type Is Retrieved Correctly
    
Verify That Air Transaction Returns Correct Passthrough Type For Full Passthrough In Country Level
    [Tags]    functional
    Create Test Variable For Air Transaction    data_list=1A,AX,NRCC,${EMPTY},Airline;Q
    Send Air Transaction Get Request
    Verify Response Status Code Is Correct    200
    Verify Air Transaction Passthrough Type Is Retrieved Correctly
    
Verify That Air Transaction Returns Correct Passthrough Type For Non-Passthrough In Country Level
    [Tags]    functional
    Create Test Variable For Air Transaction    data_list=4L,CA,UATP,${EMPTY},CWT;G
    Send Air Transaction Get Request
    Verify Response Status Code Is Correct    200
    Verify Air Transaction Passthrough Type Is Retrieved Correctly

Verify That Air Transaction Returns Correct Passthrough Type For Selective Passthrough Type In Country Level
    [Tags]    functional
    Create Test Variable For Air Transaction    data_list=TG,AX,NRCC,${EMPTY},CWT;L
    Send Air Transaction Get Request
    Verify Response Status Code Is Correct    200
    Verify Air Transaction Passthrough Type Is Retrieved Correctly
    Create Test Variable For Air Transaction    data_list=TG,VI,NRCC,${EMPTY},Airline;Q
    Send Air Transaction Get Request
    Verify Response Status Code Is Correct    200
    Verify Air Transaction Passthrough Type Is Retrieved Correctly

Verify That Air Transactions Returns Correct Passthrough Type For Multiple Booking Class
    [Tags]    functional
    Create Test Variable For Air Transaction    data_list=data_list=TST,CA,NRCC,1111111111,CWT;C
    Send Air Transaction Put Request (Maintenance)
    Verify Response Status Code Is Correct    200
    Verify Air Transaction Record Is Saved Correctly
    Evict Air Transaction Cache
    Create Test Variable For Air Transaction    data_list=data_list=TST,CA,NRCC,1111111111,Airline;Q
    Send Air Transaction Put Request (Maintenance)
    Verify Response Status Code Is Correct    200
    Verify Air Transaction Record Is Saved Correctly
    Evict Air Transaction Cache
    Create Test Variable For Air Transaction    data_list=TST,CA,NRCC,1111111111,CWT;C,Q
    Send Air Transaction Get Request
    Verify Response Status Code Is Correct    200
    Verify Air Transaction Passthrough Type Is Retrieved Correctly
    [Teardown]    Delete Created Air Transaction And Evict Cache    